# 什麼是 JWT (JSON Web Token)？

JWT（JSON Web Token）是一種開放標準（RFC 7519），用來在各方之間安全地傳遞資料。它是一種基於 JSON 的 Token（令牌），可用於身份驗證與授權。

## JWT 的結構

JWT 由三個部分組成：

1. **Header（標頭）**
   - 包含令牌的類型（typ）和使用的演算法（alg）
   - 例如：`{"alg": "HS256", "typ": "JWT"}`

2. **Payload（負載）**
   - 包含聲明（claims）
   - 聲明是關於實體（通常是用戶）和其他資料的聲明
   - 例如：`{"userId": "123", "username": "john", "exp": 1516239022}`

3. **Signature（簽名）**
   - 使用標頭中指定的演算法和密鑰對前兩部分進行簽名
   - 確保 token 的完整性和真實性

## JWT 的優點

1. **無狀態（Stateless）**
   - 伺服器不需要存儲會話資料
   - 所有必要的資訊都包含在 token 中

2. **跨域支援**
   - 可以在不同的域名之間使用
   - 適合微服務架構

3. **安全性**
   - 使用簽名確保 token 不被篡改
   - 可以設置過期時間

## 使用場景

1. **身份驗證（Authentication）**
   - 用戶登入後獲取 JWT
   - 後續請求使用 JWT 進行身份驗證

2. **授權（Authorization）**
   - 使用 JWT 中的聲明來決定用戶的權限
   - 可以包含角色和權限資訊

3. **資訊交換**
   - 在各方之間安全地傳輸資訊
   - 確保資訊的完整性和真實性

## 安全考慮

1. **token 過期**
   - 設置合理的過期時間
   - 使用刷新 token 機制

2. **敏感資訊**
   - 不要在 JWT 中儲存敏感資訊
   - Payload 可以被解碼，所以不要儲存密碼等敏感資料

3. **HTTPS**
   - 始終通過 HTTPS 傳輸 JWT
   - 防止中間人攻擊 